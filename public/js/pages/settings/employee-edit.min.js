!function(t){var e={};function a(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=13)}({13:function(t,e,a){t.exports=a("Mgz0")},"1HXm":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,'.suggestions-nowrap{white-space:nowrap}.suggestions-input{-ms-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.suggestions-input::-ms-clear{display:none}.suggestions-wrapper{display:inline-block;position:relative;margin:0;padding:0;vertical-align:top;min-height:1px;-webkit-text-size-adjust:100%}.suggestions-addon{display:none;opacity:0;position:absolute}.suggestions-addon[data-addon-type=spinner]{background:hsla(0,0%,100%,.75) url(data:image/gif;base64,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) 50% 50% no-repeat;border-radius:50%}.suggestions-addon[data-addon-type=clear]{background:transparent url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAwJyBoZWlnaHQ9JzEwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48Zz48cGF0aCBkPSdtMjAsMjBtMTAsMGwyMCwyMGwyMCwtMjBsMTAsMTBsLTIwLDIwbDIwLDIwbC0xMCwxMGwtMjAsLTIwbC0yMCwyMGwtMTAsLTEwbDIwLC0yMGwtMjAsLTIwbDEwLC0xMCcgZmlsbD0nIzk5OScvPjwvZz48L3N2Zz4=) 50% 50% no-repeat;background-size:contain;cursor:pointer;opacity:.8}.suggestions-addon[data-addon-type=clear]:hover{opacity:1}.suggestions-suggestions{background:#fff;border:1px solid #999;-ms-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:default;z-index:9999;-webkit-text-size-adjust:100%}.suggestions-suggestions strong{font-weight:400;color:#39f}.suggestions-suggestions.suggestions-mobile{border-style:none}.suggestions-suggestions.suggestions-mobile .suggestions-suggestion{border-bottom:1px solid #ddd}.suggestions-suggestion{padding:4px;overflow:hidden}.suggestions-suggestion:hover{background:#f7f7f7}.suggestions-selected,.suggestions-selected:hover{background:#f0f0f0}.suggestions-hint{padding:4px;white-space:nowrap;overflow:hidden;color:#777;font-size:85%}.suggestions-constraints{list-style:none!important;margin:0!important;padding:0!important;position:absolute!important;white-space:nowrap!important}.suggestions-constraints:empty{display:none!important}.suggestions-constraints li{background:#f8f8f8;border:1px solid #ccc;border-radius:3px;cursor:default;display:inline-block;margin:0 4px 0 0;padding:0 .5em}.suggestions-constraints li .suggestions-remove{height:1em;width:1em;display:inline-block;margin:0 0 0 .25em;background:transparent url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAwJyBoZWlnaHQ9JzEwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJz48Zz48cGF0aCBkPSdtMjAsMjBtMTAsMGwyMCwyMGwyMCwtMjBsMTAsMTBsLTIwLDIwbDIwLDIwbC0xMCwxMGwtMjAsLTIwbC0yMCwyMGwtMTAsLTEwbDIwLC0yMGwtMjAsLTIwbDEwLC0xMCcgZmlsbD0nIzk5OScvPjwvZz48L3N2Zz4=) 50% 50% no-repeat;background-size:contain;cursor:pointer;opacity:.8}.suggestions-constraints li .suggestions-remove:hover{opacity:1}.suggestions-constraints li span{vertical-align:middle}.suggestions-subtext{color:#777;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.suggestions-subtext_inline{display:inline-block;min-width:6em;vertical-align:bottom;margin:0 .5em 0 0}.suggestions-subtext-delimiter{display:inline-block;width:2px}.suggestions-subtext_label{margin:0 0 0 .25em;border-radius:3px;padding:0 3px;background:#f5f5f5;font-size:85%}.suggestions-value[data-suggestion-status=LIQUIDATED]{position:relative}.suggestions-value[data-suggestion-status=LIQUIDATED]:after{position:absolute;left:0;right:0;top:50%;border-top:1px solid rgba(0,0,0,.4);content:""}',""])},"1RK2":function(t,e,a){var i=a("Mb6R");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("c0ccc0b0",i,!0,{})},"5Qkr":function(t,e,a){var i=a("befu");"string"==typeof i&&(i=[[t.i,i,""]]);var o={transform:void 0};a("MTIv")(i,o);i.locals&&(t.exports=i.locals)},"5SB6":function(t,e,a){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t){return function(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var s="undefined"!=typeof window,r=s?window:{},c="".concat("cropper","-crop"),l="".concat("cropper","-disabled"),p="".concat("cropper","-hidden"),h="".concat("cropper","-hide"),d="".concat("cropper","-invisible"),u="".concat("cropper","-modal"),m="".concat("cropper","-move"),A="".concat("cropper","Action"),f="".concat("cropper","Preview"),g=r.PointerEvent?"pointerdown":"touchstart mousedown",v=r.PointerEvent?"pointermove":"touchmove mousemove",b=r.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",w=/^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,x=/^data:/,y=/^data:image\/jpeg;base64,/,C=/^(?:img|canvas)$/i,M={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},k=Number.isNaN||r.isNaN;function E(t){return"number"==typeof t&&!k(t)}function I(t){return void 0===t}function S(t){return"object"===i(t)&&null!==t}var T=Object.prototype.hasOwnProperty;function _(t){if(!S(t))return!1;try{var e=t.constructor,a=e.prototype;return e&&a&&T.call(a,"isPrototypeOf")}catch(t){return!1}}function D(t){return"function"==typeof t}function B(t,e){if(t&&D(e))if(Array.isArray(t)||E(t.length)){var a,i=t.length;for(a=0;a<i&&!1!==e.call(t,t[a],a,t);a+=1);}else S(t)&&Object.keys(t).forEach(function(a){e.call(t,t[a],a,t)});return t}var R=Object.assign||function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),i=1;i<e;i++)a[i-1]=arguments[i];return S(t)&&a.length>0&&a.forEach(function(e){S(e)&&Object.keys(e).forEach(function(a){t[a]=e[a]})}),t},z=/\.\d*(?:0|9){12}\d*$/;function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return z.test(t)?Math.round(t*e)/e:t}var N=/^(?:width|height|left|top|marginLeft|marginTop)$/;function O(t,e){var a=t.style;B(e,function(t,e){N.test(e)&&E(t)&&(t+="px"),a[e]=t})}function j(t,e){if(e)if(E(t.length))B(t,function(t){j(t,e)});else if(t.classList)t.classList.add(e);else{var a=t.className.trim();a?a.indexOf(e)<0&&(t.className="".concat(a," ").concat(e)):t.className=e}}function U(t,e){e&&(E(t.length)?B(t,function(t){U(t,e)}):t.classList?t.classList.remove(e):t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function H(t,e,a){e&&(E(t.length)?B(t,function(t){H(t,e,a)}):a?j(t,e):U(t,e))}var L=/([a-z\d])([A-Z])/g;function G(t){return t.replace(L,"$1-$2").toLowerCase()}function J(t,e){return S(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(G(e)))}function P(t,e,a){S(a)?t[e]=a:t.dataset?t.dataset[e]=a:t.setAttribute("data-".concat(G(e)),a)}var F=/\s\s*/,K=function(){var t=!1;if(s){var e=!1,a=function(){},i=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});r.addEventListener("test",a,i),r.removeEventListener("test",a,i)}return t}();function W(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=a;e.trim().split(F).forEach(function(e){if(!K){var n=t.listeners;n&&n[e]&&n[e][a]&&(o=n[e][a],delete n[e][a],0===Object.keys(n[e]).length&&delete n[e],0===Object.keys(n).length&&delete t.listeners)}t.removeEventListener(e,o,i)})}function $(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=a;e.trim().split(F).forEach(function(e){if(i.once&&!K){var n=t.listeners,s=void 0===n?{}:n;o=function(){delete s[e][a],t.removeEventListener(e,o,i);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];a.apply(t,r)},s[e]||(s[e]={}),s[e][a]&&t.removeEventListener(e,s[e][a],i),s[e][a]=o,t.listeners=s}t.addEventListener(e,o,i)})}function Y(t,e,a){var i;return D(Event)&&D(CustomEvent)?i=new CustomEvent(e,{detail:a,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,a),t.dispatchEvent(i)}function X(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var q=r.location,Z=/^(https?:)\/\/([^:/?#]+):?(\d*)/i;function V(t){var e=t.match(Z);return e&&(e[1]!==q.protocol||e[2]!==q.hostname||e[3]!==q.port)}function tt(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function et(t){var e=t.rotate,a=t.scaleX,i=t.scaleY,o=t.translateX,n=t.translateY,s=[];E(o)&&0!==o&&s.push("translateX(".concat(o,"px)")),E(n)&&0!==n&&s.push("translateY(".concat(n,"px)")),E(e)&&0!==e&&s.push("rotate(".concat(e,"deg)")),E(a)&&1!==a&&s.push("scaleX(".concat(a,")")),E(i)&&1!==i&&s.push("scaleY(".concat(i,")"));var r=s.length?s.join(" "):"none";return{WebkitTransform:r,msTransform:r,transform:r}}function at(t,e){var a=t.pageX,i=t.pageY,o={endX:a,endY:i};return e?o:R({startX:a,startY:i},o)}var it=Number.isFinite||r.isFinite;function ot(t){var e=t.aspectRatio,a=t.height,i=t.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",n=function(t){return it(t)&&t>0};if(n(i)&&n(a)){var s=a*e;"contain"===o&&s>i||"cover"===o&&s<i?a=i/e:i=a*e}else n(i)?a=i/e:n(a)&&(i=a*e);return{width:i,height:a}}var nt=String.fromCharCode;var st=/^data:.*,/;function rt(t){var e,a=new DataView(t);try{var i,o,n;if(255===a.getUint8(0)&&216===a.getUint8(1))for(var s=a.byteLength,r=2;r+1<s;){if(255===a.getUint8(r)&&225===a.getUint8(r+1)){o=r;break}r+=1}if(o){var c=o+10;if("Exif"===function(t,e,a){var i,o="";for(a+=e,i=e;i<a;i+=1)o+=nt(t.getUint8(i));return o}(a,o+4,4)){var l=a.getUint16(c);if(((i=18761===l)||19789===l)&&42===a.getUint16(c+2,i)){var p=a.getUint32(c+4,i);p>=8&&(n=c+p)}}}if(n){var h,d,u=a.getUint16(n,i);for(d=0;d<u;d+=1)if(h=n+12*d+2,274===a.getUint16(h,i)){h+=8,e=a.getUint16(h,i),a.setUint16(h,1,i);break}}}catch(t){e=1}return e}var ct={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,a=this.container,i=this.cropper;j(i,p),U(t,p);var o={width:Math.max(a.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(a.offsetHeight,Number(e.minContainerHeight)||100)};this.containerData=o,O(i,{width:o.width,height:o.height}),j(t,p),U(i,p)},initCanvas:function(){var t=this.containerData,e=this.imageData,a=this.options.viewMode,i=Math.abs(e.rotate)%180==90,o=i?e.naturalHeight:e.naturalWidth,n=i?e.naturalWidth:e.naturalHeight,s=o/n,r=t.width,c=t.height;t.height*s>t.width?3===a?r=t.height*s:c=t.width/s:3===a?c=t.width/s:r=t.height*s;var l={aspectRatio:s,naturalWidth:o,naturalHeight:n,width:r,height:c};l.left=(t.width-r)/2,l.top=(t.height-c)/2,l.oldLeft=l.left,l.oldTop=l.top,this.canvasData=l,this.limited=1===a||2===a,this.limitCanvas(!0,!0),this.initialImageData=R({},e),this.initialCanvasData=R({},l)},limitCanvas:function(t,e){var a=this.options,i=this.containerData,o=this.canvasData,n=this.cropBoxData,s=a.viewMode,r=o.aspectRatio,c=this.cropped&&n;if(t){var l=Number(a.minCanvasWidth)||0,p=Number(a.minCanvasHeight)||0;s>1?(l=Math.max(l,i.width),p=Math.max(p,i.height),3===s&&(p*r>l?l=p*r:p=l/r)):s>0&&(l?l=Math.max(l,c?n.width:0):p?p=Math.max(p,c?n.height:0):c&&(l=n.width,(p=n.height)*r>l?l=p*r:p=l/r));var h=ot({aspectRatio:r,width:l,height:p});l=h.width,p=h.height,o.minWidth=l,o.minHeight=p,o.maxWidth=1/0,o.maxHeight=1/0}if(e)if(s>(c?0:1)){var d=i.width-o.width,u=i.height-o.height;o.minLeft=Math.min(0,d),o.minTop=Math.min(0,u),o.maxLeft=Math.max(0,d),o.maxTop=Math.max(0,u),c&&this.limited&&(o.minLeft=Math.min(n.left,n.left+(n.width-o.width)),o.minTop=Math.min(n.top,n.top+(n.height-o.height)),o.maxLeft=n.left,o.maxTop=n.top,2===s&&(o.width>=i.width&&(o.minLeft=Math.min(0,d),o.maxLeft=Math.max(0,d)),o.height>=i.height&&(o.minTop=Math.min(0,u),o.maxTop=Math.max(0,u))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height},renderCanvas:function(t,e){var a=this.canvasData,i=this.imageData;if(e){var o=function(t){var e=t.width,a=t.height,i=t.degree;if(90==(i=Math.abs(i)%180))return{width:a,height:e};var o=i%90*Math.PI/180,n=Math.sin(o),s=Math.cos(o),r=e*s+a*n,c=e*n+a*s;return i>90?{width:c,height:r}:{width:r,height:c}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),n=o.width,s=o.height,r=a.width*(n/a.naturalWidth),c=a.height*(s/a.naturalHeight);a.left-=(r-a.width)/2,a.top-=(c-a.height)/2,a.width=r,a.height=c,a.aspectRatio=n/s,a.naturalWidth=n,a.naturalHeight=s,this.limitCanvas(!0,!1)}(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,O(this.canvas,R({width:a.width,height:a.height},et({translateX:a.left,translateY:a.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,a=this.imageData,i=a.naturalWidth*(e.width/e.naturalWidth),o=a.naturalHeight*(e.height/e.naturalHeight);R(a,{width:i,height:o,left:(e.width-i)/2,top:(e.height-o)/2}),O(this.image,R({width:a.width,height:a.height},et(R({translateX:a.left,translateY:a.top},a)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,a=t.aspectRatio||t.initialAspectRatio,i=Number(t.autoCropArea)||.8,o={width:e.width,height:e.height};a&&(e.height*a>e.width?o.height=o.width/a:o.width=o.height*a),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*i),o.height=Math.max(o.minHeight,o.height*i),o.left=e.left+(e.width-o.width)/2,o.top=e.top+(e.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=R({},o)},limitCropBox:function(t,e){var a=this.options,i=this.containerData,o=this.canvasData,n=this.cropBoxData,s=this.limited,r=a.aspectRatio;if(t){var c=Number(a.minCropBoxWidth)||0,l=Number(a.minCropBoxHeight)||0,p=s?Math.min(i.width,o.width,o.width+o.left,i.width-o.left):i.width,h=s?Math.min(i.height,o.height,o.height+o.top,i.height-o.top):i.height;c=Math.min(c,i.width),l=Math.min(l,i.height),r&&(c&&l?l*r>c?l=c/r:c=l*r:c?l=c/r:l&&(c=l*r),h*r>p?h=p/r:p=h*r),n.minWidth=Math.min(c,p),n.minHeight=Math.min(l,h),n.maxWidth=p,n.maxHeight=h}e&&(s?(n.minLeft=Math.max(0,o.left),n.minTop=Math.max(0,o.top),n.maxLeft=Math.min(i.width,o.left+o.width)-n.width,n.maxTop=Math.min(i.height,o.top+o.height)-n.height):(n.minLeft=0,n.minTop=0,n.maxLeft=i.width-n.width,n.maxTop=i.height-n.height))},renderCropBox:function(){var t=this.options,e=this.containerData,a=this.cropBoxData;(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCropBox(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,t.movable&&t.cropBoxMovable&&P(this.face,A,a.width>=e.width&&a.height>=e.height?"move":"all"),O(this.cropBox,R({width:a.width,height:a.height},et({translateX:a.left,translateY:a.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Y(this.element,"crop",this.getData())}},lt={initPreview:function(){var t=this.crossOrigin,e=this.options.preview,a=t?this.crossOriginUrl:this.url,i=document.createElement("img");if(t&&(i.crossOrigin=t),i.src=a,this.viewBox.appendChild(i),this.viewBoxImage=i,e){var o=e;"string"==typeof e?o=this.element.ownerDocument.querySelectorAll(e):e.querySelector&&(o=[e]),this.previews=o,B(o,function(e){var i=document.createElement("img");P(e,f,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(i.crossOrigin=t),i.src=a,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(i)})}},resetPreview:function(){B(this.previews,function(t){var e=J(t,f);O(t,{width:e.width,height:e.height}),t.innerHTML=e.html,function(t,e){if(S(t[e]))try{delete t[e]}catch(a){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(a){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(G(e)))}(t,f)})},preview:function(){var t=this.imageData,e=this.canvasData,a=this.cropBoxData,i=a.width,o=a.height,n=t.width,s=t.height,r=a.left-e.left-t.left,c=a.top-e.top-t.top;this.cropped&&!this.disabled&&(O(this.viewBoxImage,R({width:n,height:s},et(R({translateX:-r,translateY:-c},t)))),B(this.previews,function(e){var a=J(e,f),l=a.width,p=a.height,h=l,d=p,u=1;i&&(d=o*(u=l/i)),o&&d>p&&(h=i*(u=p/o),d=p),O(e,{width:h,height:d}),O(e.getElementsByTagName("img")[0],R({width:n*u,height:s*u},et(R({translateX:-r*u,translateY:-c*u},t))))}))}},pt={bind:function(){var t=this.element,e=this.options,a=this.cropper;D(e.cropstart)&&$(t,"cropstart",e.cropstart),D(e.cropmove)&&$(t,"cropmove",e.cropmove),D(e.cropend)&&$(t,"cropend",e.cropend),D(e.crop)&&$(t,"crop",e.crop),D(e.zoom)&&$(t,"zoom",e.zoom),$(a,g,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&$(a,"wheel mousewheel DOMMouseScroll",this.onWheel=this.wheel.bind(this)),e.toggleDragModeOnDblclick&&$(a,"dblclick",this.onDblclick=this.dblclick.bind(this)),$(t.ownerDocument,v,this.onCropMove=this.cropMove.bind(this)),$(t.ownerDocument,b,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&$(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,a=this.cropper;D(e.cropstart)&&W(t,"cropstart",e.cropstart),D(e.cropmove)&&W(t,"cropmove",e.cropmove),D(e.cropend)&&W(t,"cropend",e.cropend),D(e.crop)&&W(t,"crop",e.crop),D(e.zoom)&&W(t,"zoom",e.zoom),W(a,g,this.onCropStart),e.zoomable&&e.zoomOnWheel&&W(a,"wheel mousewheel DOMMouseScroll",this.onWheel),e.toggleDragModeOnDblclick&&W(a,"dblclick",this.onDblclick),W(t.ownerDocument,v,this.onCropMove),W(t.ownerDocument,b,this.onCropEnd),e.responsive&&W(window,"resize",this.onResize)}},ht={resize:function(){var t=this.options,e=this.container,a=this.containerData,i=Number(t.minContainerWidth)||200,o=Number(t.minContainerHeight)||100;if(!(this.disabled||a.width<=i||a.height<=o)){var n,s,r=e.offsetWidth/a.width;if(1!==r||e.offsetHeight!==a.height)t.restore&&(n=this.getCanvasData(),s=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(B(n,function(t,e){n[e]=t*r})),this.setCropBoxData(B(s,function(t,e){s[e]=t*r})))}},dblclick:function(){var t,e;this.disabled||"none"===this.options.dragMode||this.setDragMode((t=this.dragBox,e=c,(t.classList?t.classList.contains(e):t.className.indexOf(e)>-1)?"move":"crop"))},wheel:function(t){var e=this,a=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?i=t.deltaY>0?1:-1:t.wheelDelta?i=-t.wheelDelta/120:t.detail&&(i=t.detail>0?1:-1),this.zoom(-i*a,t)))},cropStart:function(t){if(!this.disabled){var e,a=this.options,i=this.pointers;t.changedTouches?B(t.changedTouches,function(t){i[t.identifier]=at(t)}):i[t.pointerId||0]=at(t),e=Object.keys(i).length>1&&a.zoomable&&a.zoomOnTouch?"zoom":J(t.target,A),w.test(e)&&!1!==Y(this.element,"cropstart",{originalEvent:t,action:e})&&(t.preventDefault(),this.action=e,this.cropping=!1,"crop"===e&&(this.cropping=!0,j(this.dragBox,u)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var a=this.pointers;t.preventDefault(),!1!==Y(this.element,"cropmove",{originalEvent:t,action:e})&&(t.changedTouches?B(t.changedTouches,function(t){R(a[t.identifier]||{},at(t,!0))}):R(a[t.pointerId||0]||{},at(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,a=this.pointers;t.changedTouches?B(t.changedTouches,function(t){delete a[t.identifier]}):delete a[t.pointerId||0],e&&(t.preventDefault(),Object.keys(a).length||(this.action=""),this.cropping&&(this.cropping=!1,H(this.dragBox,u,this.cropped&&this.options.modal)),Y(this.element,"cropend",{originalEvent:t,action:e}))}}},dt={change:function(t){var e,a=this.options,i=this.canvasData,o=this.containerData,n=this.cropBoxData,s=this.pointers,r=this.action,c=a.aspectRatio,l=n.left,h=n.top,d=n.width,u=n.height,m=l+d,A=h+u,f=0,g=0,v=o.width,b=o.height,w=!0;!c&&t.shiftKey&&(c=d&&u?d/u:1),this.limited&&(f=n.minLeft,g=n.minTop,v=f+Math.min(o.width,i.width,i.left+i.width),b=g+Math.min(o.height,i.height,i.top+i.height));var x=s[Object.keys(s)[0]],y={x:x.endX-x.startX,y:x.endY-x.startY},C=function(t){switch(t){case"e":m+y.x>v&&(y.x=v-m);break;case"w":l+y.x<f&&(y.x=f-l);break;case"n":h+y.y<g&&(y.y=g-h);break;case"s":A+y.y>b&&(y.y=b-A)}};switch(r){case"all":l+=y.x,h+=y.y;break;case"e":if(y.x>=0&&(m>=v||c&&(h<=g||A>=b))){w=!1;break}C("e"),(d+=y.x)<0&&(r="w",l-=d=-d),c&&(u=d/c,h+=(n.height-u)/2);break;case"n":if(y.y<=0&&(h<=g||c&&(l<=f||m>=v))){w=!1;break}C("n"),u-=y.y,h+=y.y,u<0&&(r="s",h-=u=-u),c&&(d=u*c,l+=(n.width-d)/2);break;case"w":if(y.x<=0&&(l<=f||c&&(h<=g||A>=b))){w=!1;break}C("w"),d-=y.x,l+=y.x,d<0&&(r="e",l-=d=-d),c&&(u=d/c,h+=(n.height-u)/2);break;case"s":if(y.y>=0&&(A>=b||c&&(l<=f||m>=v))){w=!1;break}C("s"),(u+=y.y)<0&&(r="n",h-=u=-u),c&&(d=u*c,l+=(n.width-d)/2);break;case"ne":if(c){if(y.y<=0&&(h<=g||m>=v)){w=!1;break}C("n"),u-=y.y,h+=y.y,d=u*c}else C("n"),C("e"),y.x>=0?m<v?d+=y.x:y.y<=0&&h<=g&&(w=!1):d+=y.x,y.y<=0?h>g&&(u-=y.y,h+=y.y):(u-=y.y,h+=y.y);d<0&&u<0?(r="sw",h-=u=-u,l-=d=-d):d<0?(r="nw",l-=d=-d):u<0&&(r="se",h-=u=-u);break;case"nw":if(c){if(y.y<=0&&(h<=g||l<=f)){w=!1;break}C("n"),u-=y.y,h+=y.y,d=u*c,l+=n.width-d}else C("n"),C("w"),y.x<=0?l>f?(d-=y.x,l+=y.x):y.y<=0&&h<=g&&(w=!1):(d-=y.x,l+=y.x),y.y<=0?h>g&&(u-=y.y,h+=y.y):(u-=y.y,h+=y.y);d<0&&u<0?(r="se",h-=u=-u,l-=d=-d):d<0?(r="ne",l-=d=-d):u<0&&(r="sw",h-=u=-u);break;case"sw":if(c){if(y.x<=0&&(l<=f||A>=b)){w=!1;break}C("w"),d-=y.x,l+=y.x,u=d/c}else C("s"),C("w"),y.x<=0?l>f?(d-=y.x,l+=y.x):y.y>=0&&A>=b&&(w=!1):(d-=y.x,l+=y.x),y.y>=0?A<b&&(u+=y.y):u+=y.y;d<0&&u<0?(r="ne",h-=u=-u,l-=d=-d):d<0?(r="se",l-=d=-d):u<0&&(r="nw",h-=u=-u);break;case"se":if(c){if(y.x>=0&&(m>=v||A>=b)){w=!1;break}C("e"),u=(d+=y.x)/c}else C("s"),C("e"),y.x>=0?m<v?d+=y.x:y.y>=0&&A>=b&&(w=!1):d+=y.x,y.y>=0?A<b&&(u+=y.y):u+=y.y;d<0&&u<0?(r="nw",h-=u=-u,l-=d=-d):d<0?(r="sw",l-=d=-d):u<0&&(r="ne",h-=u=-u);break;case"move":this.move(y.x,y.y),w=!1;break;case"zoom":this.zoom(function(t){var e=R({},t),a=[];return B(t,function(t,i){delete e[i],B(e,function(e){var i=Math.abs(t.startX-e.startX),o=Math.abs(t.startY-e.startY),n=Math.abs(t.endX-e.endX),s=Math.abs(t.endY-e.endY),r=Math.sqrt(i*i+o*o),c=(Math.sqrt(n*n+s*s)-r)/r;a.push(c)})}),a.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),a[0]}(s),t),w=!1;break;case"crop":if(!y.x||!y.y){w=!1;break}e=X(this.cropper),l=x.startX-e.left,h=x.startY-e.top,d=n.minWidth,u=n.minHeight,y.x>0?r=y.y>0?"se":"ne":y.x<0&&(l-=d,r=y.y>0?"sw":"nw"),y.y<0&&(h-=u),this.cropped||(U(this.cropBox,p),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}w&&(n.width=d,n.height=u,n.left=l,n.top=h,this.action=r,this.renderCropBox()),B(s,function(t){t.startX=t.endX,t.startY=t.endY})}},ut={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&j(this.dragBox,u),U(this.cropBox,p),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=R({},this.initialImageData),this.canvasData=R({},this.initialCanvasData),this.cropBoxData=R({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(R(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),U(this.dragBox,u),j(this.cropBox,p)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,B(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,U(this.cropper,l)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,j(this.cropper,l)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,a=this.canvasData,i=a.left,o=a.top;return this.moveTo(I(t)?t:i+Number(t),I(e)?e:o+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,a=this.canvasData,i=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(E(t)&&(a.left=t,i=!0),E(e)&&(a.top=e,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(t,e){var a=this.canvasData;return t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(a.width*t/a.naturalWidth,null,e)},zoomTo:function(t,e,a){var i=this.options,o=this.canvasData,n=o.width,s=o.height,r=o.naturalWidth,c=o.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&i.zoomable){var l=r*t,p=c*t;if(!1===Y(this.element,"zoom",{ratio:t,oldRatio:n/r,originalEvent:a}))return this;if(a){var h=this.pointers,d=X(this.cropper),u=h&&Object.keys(h).length?function(t){var e=0,a=0,i=0;return B(t,function(t){var o=t.startX,n=t.startY;e+=o,a+=n,i+=1}),{pageX:e/=i,pageY:a/=i}}(h):{pageX:a.pageX,pageY:a.pageY};o.left-=(l-n)*((u.pageX-d.left-o.left)/n),o.top-=(p-s)*((u.pageY-d.top-o.top)/s)}else _(e)&&E(e.x)&&E(e.y)?(o.left-=(l-n)*((e.x-o.left)/n),o.top-=(p-s)*((e.y-o.top)/s)):(o.left-=(l-n)/2,o.top-=(p-s)/2);o.width=l,o.height=p,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return E(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,E(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(E(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,a=this.imageData,i=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(E(t)&&(a.scaleX=t,i=!0),E(e)&&(a.scaleY=e,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.options,i=this.imageData,o=this.canvasData,n=this.cropBoxData;if(this.ready&&this.cropped){t={x:n.left-o.left,y:n.top-o.top,width:n.width,height:n.height};var s=i.width/i.naturalWidth;if(B(t,function(e,a){t[a]=e/s}),e){var r=Math.round(t.y+t.height),c=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=c-t.x,t.height=r-t.y}}else t={x:0,y:0,width:0,height:0};return a.rotatable&&(t.rotate=i.rotate||0),a.scalable&&(t.scaleX=i.scaleX||1,t.scaleY=i.scaleY||1),t},setData:function(t){var e=this.options,a=this.imageData,i=this.canvasData,o={};if(this.ready&&!this.disabled&&_(t)){var n=!1;e.rotatable&&E(t.rotate)&&t.rotate!==a.rotate&&(a.rotate=t.rotate,n=!0),e.scalable&&(E(t.scaleX)&&t.scaleX!==a.scaleX&&(a.scaleX=t.scaleX,n=!0),E(t.scaleY)&&t.scaleY!==a.scaleY&&(a.scaleY=t.scaleY,n=!0)),n&&this.renderCanvas(!0,!0);var s=a.width/a.naturalWidth;E(t.x)&&(o.left=t.x*s+i.left),E(t.y)&&(o.top=t.y*s+i.top),E(t.width)&&(o.width=t.width*s),E(t.height)&&(o.height=t.height*s),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?R({},this.containerData):{}},getImageData:function(){return this.sized?R({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&B(["left","top","width","height","naturalWidth","naturalHeight"],function(a){e[a]=t[a]}),e},setCanvasData:function(t){var e=this.canvasData,a=e.aspectRatio;return this.ready&&!this.disabled&&_(t)&&(E(t.left)&&(e.left=t.left),E(t.top)&&(e.top=t.top),E(t.width)?(e.width=t.width,e.height=t.width/a):E(t.height)&&(e.height=t.height,e.width=t.height*a),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,a,i=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&_(t)&&(E(t.left)&&(i.left=t.left),E(t.top)&&(i.top=t.top),E(t.width)&&t.width!==i.width&&(e=!0,i.width=t.width),E(t.height)&&t.height!==i.height&&(a=!0,i.height=t.height),o&&(e?i.height=i.width/o:a&&(i.width=i.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,a=function(t,e,a,i){var o=e.aspectRatio,s=e.naturalWidth,r=e.naturalHeight,c=e.rotate,l=void 0===c?0:c,p=e.scaleX,h=void 0===p?1:p,d=e.scaleY,u=void 0===d?1:d,m=a.aspectRatio,A=a.naturalWidth,f=a.naturalHeight,g=i.fillColor,v=void 0===g?"transparent":g,b=i.imageSmoothingEnabled,w=void 0===b||b,x=i.imageSmoothingQuality,y=void 0===x?"low":x,C=i.maxWidth,M=void 0===C?1/0:C,k=i.maxHeight,E=void 0===k?1/0:k,I=i.minWidth,S=void 0===I?0:I,T=i.minHeight,_=void 0===T?0:T,D=document.createElement("canvas"),B=D.getContext("2d"),R=ot({aspectRatio:m,width:M,height:E}),z=ot({aspectRatio:m,width:S,height:_},"cover"),N=Math.min(R.width,Math.max(z.width,A)),O=Math.min(R.height,Math.max(z.height,f)),j=ot({aspectRatio:o,width:M,height:E}),U=ot({aspectRatio:o,width:S,height:_},"cover"),H=Math.min(j.width,Math.max(U.width,s)),L=Math.min(j.height,Math.max(U.height,r)),G=[-H/2,-L/2,H,L];return D.width=Q(N),D.height=Q(O),B.fillStyle=v,B.fillRect(0,0,N,O),B.save(),B.translate(N/2,O/2),B.rotate(l*Math.PI/180),B.scale(h,u),B.imageSmoothingEnabled=w,B.imageSmoothingQuality=y,B.drawImage.apply(B,[t].concat(n(G.map(function(t){return Math.floor(Q(t))})))),B.restore(),D}(this.image,this.imageData,e,t);if(!this.cropped)return a;var i=this.getData(),o=i.x,s=i.y,r=i.width,c=i.height,l=a.width/Math.floor(e.naturalWidth);1!==l&&(o*=l,s*=l,r*=l,c*=l);var p=r/c,h=ot({aspectRatio:p,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),d=ot({aspectRatio:p,width:t.minWidth||0,height:t.minHeight||0},"cover"),u=ot({aspectRatio:p,width:t.width||(1!==l?a.width:r),height:t.height||(1!==l?a.height:c)}),m=u.width,A=u.height;m=Math.min(h.width,Math.max(d.width,m)),A=Math.min(h.height,Math.max(d.height,A));var f=document.createElement("canvas"),g=f.getContext("2d");f.width=Q(m),f.height=Q(A),g.fillStyle=t.fillColor||"transparent",g.fillRect(0,0,m,A);var v=t.imageSmoothingEnabled,b=void 0===v||v,w=t.imageSmoothingQuality;g.imageSmoothingEnabled=b,w&&(g.imageSmoothingQuality=w);var x,y,C,M,k,E,I=a.width,S=a.height,T=o,_=s;T<=-r||T>I?(T=0,x=0,C=0,k=0):T<=0?(C=-T,T=0,k=x=Math.min(I,r+T)):T<=I&&(C=0,k=x=Math.min(r,I-T)),x<=0||_<=-c||_>S?(_=0,y=0,M=0,E=0):_<=0?(M=-_,_=0,E=y=Math.min(S,c+_)):_<=S&&(M=0,E=y=Math.min(c,S-_));var D=[T,_,x,y];if(k>0&&E>0){var B=m/r;D.push(C*B,M*B,k*B,E*B)}return g.drawImage.apply(g,[a].concat(n(D.map(function(t){return Math.floor(Q(t))})))),f},setAspectRatio:function(t){var e=this.options;return this.disabled||I(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,a=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var o="crop"===t,n=e.movable&&"move"===t;t=o||n?t:"none",e.dragMode=t,P(a,A,t),H(a,c,o),H(a,m,n),e.cropBoxMovable||(P(i,A,t),H(i,c,o),H(i,m,n))}return this}},mt=r.Cropper,At=function(){function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||!C.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=R({},M,_(a)&&a),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var e,a,i;return e=t,i=[{key:"noConflict",value:function(){return window.Cropper=mt,t}},{key:"setDefaults",value:function(t){R(M,_(t)&&t)}}],(a=[{key:"init",value:function(){var t,e=this.element,a=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===a){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===a&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var a=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(x.test(t))y.test(t)?this.read((o=t.replace(st,""),n=atob(o),s=new ArrayBuffer(n.length),B(r=new Uint8Array(s),function(t,e){r[e]=n.charCodeAt(e)}),s)):this.clone();else{var o,n,s,r,c=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=c,c.ontimeout=l,c.onabort=l,c.onerror=l,c.onprogress=function(){"image/jpeg"!==c.getResponseHeader("content-type")&&c.abort()},c.onload=function(){e.read(c.response)},c.onloadend=function(){e.reloading=!1,e.xhr=null},i.checkCrossOrigin&&V(t)&&a.crossOrigin&&(t=tt(t)),c.open("GET",t),c.responseType="arraybuffer",c.withCredentials="use-credentials"===a.crossOrigin,c.send()}else this.clone()}}},{key:"read",value:function(t){var e=this.options,a=this.imageData,i=rt(t),o=0,s=1,r=1;if(i>1){this.url=function(t,e){for(var a=[],i=new Uint8Array(t);i.length>0;)a.push(nt.apply(void 0,n(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(e,";base64,").concat(btoa(a.join("")))}(t,"image/jpeg");var c=function(t){var e=0,a=1,i=1;switch(t){case 2:a=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,a=-1;break;case 8:e=-90}return{rotate:e,scaleX:a,scaleY:i}}(i);o=c.rotate,s=c.scaleX,r=c.scaleY}e.rotatable&&(a.rotate=o),e.scalable&&(a.scaleX=s,a.scaleY=r),this.clone()}},{key:"clone",value:function(){var t,e,a=this.element,i=this.url;this.options.checkCrossOrigin&&V(i)&&((t=a.crossOrigin)?e=i:(t="anonymous",e=tt(i))),this.crossOrigin=t,this.crossOriginUrl=e;var o=document.createElement("img");t&&(o.crossOrigin=t),o.src=e||i,this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),j(o,h),a.parentNode.insertBefore(o,a.nextSibling)}},{key:"start",value:function(){var t=this,e=this.isImg?this.element:this.image;e.onload=null,e.onerror=null,this.sizing=!0;var a=r.navigator&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(r.navigator.userAgent),i=function(e,a){R(t.imageData,{naturalWidth:e,naturalHeight:a,aspectRatio:e/a}),t.sizing=!1,t.sized=!0,t.build()};if(!e.naturalWidth||a){var o=document.createElement("img"),n=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){i(o.width,o.height),a||n.removeChild(o)},o.src=e.src,a||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(o))}else i(e.naturalWidth,e.naturalHeight)}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,a=this.image,i=t.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var n=o.querySelector(".".concat("cropper","-container")),s=n.querySelector(".".concat("cropper","-canvas")),r=n.querySelector(".".concat("cropper","-drag-box")),c=n.querySelector(".".concat("cropper","-crop-box")),l=c.querySelector(".".concat("cropper","-face"));this.container=i,this.cropper=n,this.canvas=s,this.dragBox=r,this.cropBox=c,this.viewBox=n.querySelector(".".concat("cropper","-view-box")),this.face=l,s.appendChild(a),j(t,p),i.insertBefore(n,t.nextSibling),this.isImg||U(a,h),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,j(c,p),e.guides||j(c.getElementsByClassName("".concat("cropper","-dashed")),p),e.center||j(c.getElementsByClassName("".concat("cropper","-center")),p),e.background&&j(n,"".concat("cropper","-bg")),e.highlight||j(l,d),e.cropBoxMovable&&(j(l,m),P(l,A,"all")),e.cropBoxResizable||(j(c.getElementsByClassName("".concat("cropper","-line")),p),j(c.getElementsByClassName("".concat("cropper","-point")),p)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),D(e.ready)&&$(t,"ready",e.ready,{once:!0}),Y(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),U(this.element,p))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&o(e.prototype,a),i&&o(e,i),t}();R(At.prototype,ct,lt,pt,ht,dt,ut),e.a=At},AgHG:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{smtpEmails:{},userId:0},data:function(){return{smtp:{id:0,data:{login:"",password:"",server:"",port:"",secure:!1,userId:0},errors:{login:!1,password:!1,server:!1,port:!1},showForm:!1,ajax:!1}}},mounted:function(){var t=this;$('input[type="checkbox"]').iCheck({checkboxClass:"icheckbox_flat-blue"}).on("ifChanged",function(e){t.smtp.data.secure=!t.smtp.data.secure})},methods:{addSmtp:function(){var t=this;this.smtp.errors.login=!this.validEmail(this.smtp.data.login),this.smtp.errors.password=!this.smtp.data.password,this.smtp.errors.server=!this.smtp.data.server,this.smtp.errors.port=!this.smtp.data.port,this.smtp.data.login&&this.smtp.data.password&&this.smtp.data.server&&this.smtp.data.port&&(this.smtp.data.userId=this.userId,this.smtp.ajax=!0,window.Pace&&window.Pace.restart(),this.smtp.id?window.axios.put("/settings/integration/email/"+this.smtp.id,this.smtp.data).then(function(e){t.smtpEmails.forEach(function(a,i){a.id==e.data.id&&t.smtpEmails.splice(i,1,e.data)}),t.toggleSmtp(),t.smtp.ajax=!1}).catch(function(e){t.smtp.ajax=!1,window.ajaxError(e)}):window.axios.post("/settings/integration/email",this.smtp.data).then(function(e){t.smtpEmails.push(e.data),$("#collapse").collapse("hide"),t.clearSmtp(),t.smtp.showForm=!1,t.smtp.ajax=!1,t.$parent.$emit("employeeSmtp:save:success",t.smtpEmails)}).catch(function(e){window.ajaxError(e),t.smtp.ajax=!1}))},clearSmtp:function(){this.smtp.data.login="",this.smtp.data.password="",this.smtp.data.server="",this.smtp.data.port="",$('#popup-email input[type="checkbox"]').iCheck("uncheck")},editSmtp:function(t){this.smtp.data.login=t.smtp_login,this.smtp.data.password=t.smtp_password,this.smtp.data.server=t.smtp_server,this.smtp.data.port=t.smtp_port,this.smtp.id=t.id,t.smtp_secure&&$('#popup-email input[type="checkbox"]').iCheck("check"),$("#collapse").collapse("show"),this.smtp.showForm=!0},removeSmtp:function(t){var e=this;t&&(window.Pace&&window.Pace.restart(),window.axios.delete("/settings/integration/email/"+t,{data:{userId:this.userId}}).then(function(a){e.smtpEmails.forEach(function(a,i){a.id==t&&e.smtpEmails.splice(i,1)})}).catch(function(t){window.ajaxError(t)}))},toggleSmtp:function(){this.smtp.showForm?$("#collapse").collapse("hide"):$("#collapse").collapse("show"),this.smtp.showForm=!this.smtp.showForm,this.clearSmtp()},showModal:function(){$("#popup-email").modal("show")},hideModal:function(){$("#popup-email").modal("hide")},validEmail:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)}}}},"CA+I":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("5Qkr"),o=(a.n(i),a("5SB6"));e.default={data:function(){return{files:{},data:{},path:"",uploadingPath:"",breadcrumb:{},selectedItemClass:"",selectedIndex:[],selectedItems:[],disabledApp:!1,showCropper:!1,filesCropper:[],cropperContainerImg:0,cropperTemplate:1,cropperActiveIndex:1,disabledCropper:!1,viewMenu:!1,top:"0px",left:"0px",pasteCutItemsMenu:[],pasteCopiedItemsMenu:[],menuType:""}},created:function(){},mounted:function(){this.fetchStorageData()},methods:{fetchStorageData:function(t){var e=this;axios.get("/file-manager/json").then(function(a){var i=a.data;e.data=i.storageData,e.path=i.path,e.filesCropper=i.needCropp,e.updateBreadcrumb(),e.show(t||e.path)}).catch(function(t){ajaxError(t)})},show:function(t){this.path=t,this.updateBreadcrumb();var e=["Галерея","Товары","Логотипы","Обложки","Сотрудники"];this.files=this.data.filter(function(e){return e.folder===t}),this.files.sort(function(t,a){if(-1===e.indexOf(t.name)||-1===e.indexOf(a.name))return t.name>a.name?1:t.name<a.name?-1:0}),this.clearSelectedItem(),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},levelUp:function(){if(this.path){var t=this.getParentFolder(this.path);t&&t!==this.path&&(this.path=t,this.show(t))}},getParentFolder:function(t){var e=t.split("/");return e.pop(),e.length>=2?e.join("/"):""},updateBreadcrumb:function(){var t=this.path.split("/"),e=t[0]+"/"+t[1];(t=t.slice(2)).unshift("Дом");var a=[];for(var i in t)0!==parseInt(i)&&(e+="/"+t[i]),a.push({path:e,name:t[i]});this.breadcrumb=a},isLastBreadcrumb:function(t){return t===this.breadcrumb.length-1},createFolder:function(){var t=this;modal({okTitle:"Создать",modalTitle:"Создание папки",modalMessage:'<div class="form-group"> <label for="folder-name" class="control-label">Введите название папки:</label> <input class="form-control" id="folder-name"> </div>',onOk:function(e){var a=e.find("#folder-name"),i=a.val();i?axios.post("/file-manager/folder",{path:t.path,folder:i}).then(function(a){t.data.push({type:"folder",folder:t.path,name:i,path:t.path+"/"+i,countFiles:0}),t.show(t.path),e.modal("hide")}).catch(function(t){ajaxError(t)}):a.parent().addClass("has-error")}})},deleteFile:function(t){var e=this;modal({okTitle:"Удалить",okClass:"btn-danger",modalTitle:"Удаление файла",modalMessage:"<h4>Вы уверены что хотите удалить файл?</h4>",onOk:function(a){axios.delete("/file-manager/file",{data:{file:t,folder:e.path}}).then(function(a){for(var i=e.data.length-1;i>=0;i-=1){var o=e.data[i];"image"===o.type&&-1!==t.indexOf(o.file)&&e.data.splice(i,1),0===i&&e.show(e.path)}var n=e.data.filter(function(t){return t.path===e.path});n.length&&(n[0].countFiles-=t.length)}).catch(function(t){ajaxError(t)}),a.modal("hide")}})},deleteFolder:function(t){var e=this;modal({okTitle:"Удалить",okClass:"btn-danger",modalTitle:"Удаление папки",modalMessage:"<h4>Вы уверены что хотите удалить папку со всем содержимым?</h4>",onOk:function(a){axios.delete("/file-manager/folder",{data:{path:t}}).then(function(t){e.fetchStorageData(e.path)}).catch(function(t){ajaxError(t)}),a.modal("hide")}})},folderClassObject:function(t){var e="bg-teal";switch(t){case"Логотипы":e="bg-purple";break;case"Обложки":e="bg-red";break;case"Товары":e="bg-green";break;case"Сотрудники":e="bg-yellow";break;case"Галерея":e="bg-aqua"}return e},imageClassObject:function(t){var e="box-teal";if(t)switch(t.split("/").pop()){case"Логотипы":e="box-purple";break;case"Обложки":e="box-red";break;case"Товары":e="box-green";break;case"Сотрудников":e="box-yellow";break;case"Галерея":e="box-aqua"}return e},setSelectedItem:function(t,e,a,i){var o="",n=a.type;i&&this.closeMenu(),this.isSelectedItem(t)||e.ctrlKey&&"folder"===a.type||(e.ctrlKey||(this.selectedItems=[]),this.selectedItems.push(a),"folder"===n&&$(e.target).closest(".info-box").children(".info-box-icon").attr("class").split(" ").forEach(function(t){/^bg-\S+$/.test(t)&&(o=t)}),"image"===n&&$(e.target).closest(".box").attr("class").split(" ").forEach(function(t){/^box-\S+$/.test(t)&&(o=t.replace("box-","bg-"))}),this.selectedItemClass=o,this.menuType=n,e.ctrlKey||(this.selectedIndex=[]),this.selectedIndex.push(t))},isSelectedItem:function(t){return-1!==this.selectedIndex.indexOf(t)},clearSelectedItem:function(){this.selectedIndex=[],this.selectedItemClass="",this.selectedItems=[]},clearSelectedItemBody:function(t){t.ctrlKey||$(t.target).closest('[data-type="image"]').length||$(t.target).closest('[data-type="folder"]').length||this.clearSelectedItem()},updateFoldersCounter:function(){var t=this;this.data.length&&this.data.forEach(function(e){if("folder"===e.type){var a=t.data.filter(function(t){return"image"===t.type&&t.folder.match(e.path)});e.countFiles=a.length}})},openFileUploader:function(){$("#files").click()},uploadFiles:function(t){var e=this,a=t.dataTransfer?t.dataTransfer.files:t.target.files;if(a.length){this.disabledApp=!0;for(var i=new FormData,o=0;o<a.length;o++)i.append("files[]",a[o]);i.append("path",this.path),t.target.value="",axios.post("/file-manager/upload",i).then(function(t){t.data.files&&(t.data.files.forEach(function(t){e.filesCropper.push(t)}),e.showCropEditor()),e.disabledApp=!1}).catch(function(t){e.disabledApp=!1,ajaxError(t)})}},showCropEditor:function(){var t=this;this.showCropper=!0,setTimeout(function(){$('[data-toggle="tooltip"]').tooltip();var e=$("#cropper");e.find("img.crop").each(function(){$(this).data({cropper:new o.a($(this).get(0),{movable:!1,rotatable:!1,scalable:!1})})}),t.changeCropperTemplate(t.cropperTemplate),t.cropperContainerImg=e.find(".cropper-container-img:first-child").height()},100)},cropperPrev:function(){var t=this,e=$("#cropper"),a=e.find(".cropper-container-img.active"),i=e.find(".cropper-container-img:first-child"),o=a.data("index")-1,n=e.find('.cropper-container-img[data-index="'+o+'"]'),s=n.data("template");if(n.length){this.cropperActiveIndex=o;var r=parseInt(i.css("margin-top").replace("px",""))+this.cropperContainerImg;i.css("margin-top",r+"px"),setTimeout(function(){t.changeCropperTemplate(s||t.cropperTemplate)},100)}},cropperNext:function(){var t=this,e=$("#cropper"),a=e.find(".cropper-container-img.active").data("index"),i=a+1,o=e.find('.cropper-container-img[data-index="'+i+'"]'),n=o.data("template");if(o.length){this.cropperActiveIndex=i;var s=-1*this.cropperContainerImg*a;e.find(".cropper-container-img:first-child").css("margin-top",s+"px"),setTimeout(function(){t.changeCropperTemplate(n||t.cropperTemplate)},100)}},changeCropperTemplate:function(t){this.cropperTemplate=t;var e=$("#cropper").find(".cropper-container-img.active "),a=e.find("img.crop").data("cropper");if(a){switch(a.cropped||a.crop(),t){case 1:a.setAspectRatio(4.25);break;case 2:a.setAspectRatio(13/3);break;case 3:case 4:a.setAspectRatio(1);break;case 5:a.setAspectRatio(1.5);break;case 6:a.clear()}e.data("template",t)}},cropperCrop:function(){var t=this,e=$("#cropper").find(".cropper-container-img.active"),a=e.find("img.crop"),i=e.find("img.crop").data("cropper");if(i){this.disabledCropper=!0;var o=i.getCroppedCanvas(),n=e.find(".cropper-name input").val(),s=a.data("file"),r=e.data("template"),c=this.filesCropper.find(function(t){return t.file===s});c?(e.hasClass("cropper-round")&&(o=this.getRoundedCanvas(o)),o.toBlob(function(e){var a=new FormData;a.append("croppedImage",e),a.append("name",n),a.append("file",s),a.append("template",r),a.append("path",t.uploadingPath),axios.post("/file-manager/upload/cropped",a).then(function(e){t.disabledCropper=!1,c.cropped=1;var a=!0;if(t.filesCropper.forEach(function(t){0===t.cropped&&(a=!1)}),a){t.$emit("cropper-finished",e.data);var i=t.path;t.fetchStorageData(i),t.showCropper=!1,t.filesCropper=[],t.cropperActiveIndex=1}t.cropperNext()}).catch(function(e){t.disabledCropper=!1,ajaxError(e)})})):alert("Файл не найден")}},getRoundedCanvas:function(t){var e=document.createElement("canvas"),a=e.getContext("2d"),i=t.width,o=t.height;return e.width=i,e.height=o,a.imageSmoothingEnabled=!0,a.drawImage(t,0,0,i,o),a.globalCompositeOperation="destination-in",a.beginPath(),a.arc(i/2,o/2,Math.min(i,o)/2,0,2*Math.PI,!0),a.fill(),e},setMenu:function(t,e){var a=$("#app"),i=a.innerHeight()-this.$refs.right.offsetHeight-25,o=a.innerWidth()-this.$refs.right.offsetWidth-25;t+=$(document).scrollTop(),e-=$("aside.main-sidebar").innerWidth(),(t-=100)>i&&(t=i),e>o&&(e=o),this.top=t+"px",this.left=e+"px"},closeMenu:function(){this.viewMenu=!1},openMenu:function(t){this.viewMenu=!0,Vue.nextTick(function(){this.setMenu(t.y,t.x)}.bind(this))},countItemsInBufferMenu:function(){return this.pasteCopiedItemsMenu.length+this.pasteCutItemsMenu.length},deleteItemMenu:function(){if(this.selectedItems.length&&("folder"===this.menuType&&this.deleteFolder(this.selectedItems[0].path),"image"===this.menuType)){var t=this.selectedItems.map(function(t){return t.file});this.deleteFile(t)}this.closeMenu()},cutItemMenu:function(){this.selectedItems.length&&(this.pasteCopiedItemsMenu=[],this.pasteCutItemsMenu=this.selectedItems.map(function(t){return t.file})),this.closeMenu()},copyItemMenu:function(){this.selectedItems.length&&(this.pasteCutItemsMenu=[],this.pasteCopiedItemsMenu=this.selectedItems.map(function(t){return t.file})),this.closeMenu()},pasteItemMenu:function(){var t=this;this.pasteCutItemsMenu.length&&axios.post("/file-manager/file/move",{file:this.pasteCutItemsMenu,folder:this.path}).then(function(e){t.data.forEach(function(e){-1!==t.pasteCutItemsMenu.indexOf(e.file)&&(e.folder=t.path,e.src="/"+t.path.replace("public","storage")+"/"+e.file),t.updateFoldersCounter()}),t.pasteCutItemsMenu=[],t.show(t.path)}).catch(function(e){t.pasteCutItemsMenu=[],ajaxError(e)}),this.pasteCopiedItemsMenu.length&&axios.post("/file-manager/file/copy",{file:this.pasteCopiedItemsMenu,folder:this.path}).then(function(e){e.data.forEach(function(e){e.type="image",e.folder=t.path,e.src=e.path,t.data.push(e)}),t.updateFoldersCounter(),t.pasteCopiedItemsMenu=[],t.show(t.path)}).catch(function(e){t.pasteCopiedItemsMenu=[],ajaxError(e)}),this.closeMenu()},renameItemMenu:function(){var t=this;if(this.selectedItems.length){var e=this.selectedItems[0],a="image"===e.type?"изображение":"папку",i="image"===e.type?"изображения":"папки",o=e.path,n=e.name;modal({okTitle:"Подтвердить",modalTitle:"Переименовать "+a,modalMessage:'<div class="form-group"> <label for="folder-name" class="control-label">Введите название '+i+':</label> <input class="form-control" id="item-name" value="'+n+'"> </div>',onOk:function(a){var i=a.find("#item-name"),n=i.val().trim();n?("folder"===e.type&&axios.post("/file-manager/folder/rename",{path:o,folder:e.folder,name:n}).then(function(e){t.fetchStorageData(t.path),a.modal("hide")}).catch(function(t){ajaxError(t)}),"image"===e.type&&axios.post("/file-manager/file/rename",{file:e.file,name:n}).then(function(i){t.data.forEach(function(t){t.file===e.file&&(t.name=n)}),t.show(t.path),a.modal("hide")}).catch(function(t){ajaxError(t)})):i.parent().addClass("has-error")}})}this.closeMenu()},dblClickImage:function(t){this.$emit("dblclick-image",t)},showMenuItem:function(){return!!this.pasteCutItemsMenu.length||(!!this.pasteCopiedItemsMenu.length||"image"===this.menuType)},changeUploadPath:function(t){var e="";1===t&&(e=this.path),this.uploadingPath=e},can:function(t){return window.can({permission:t})},cancelCrop:function(){var t=this,e=$("#cropper").find(".cropper-container-img.active").find("img.crop").data("file"),a=this.filesCropper.find(function(t){return t.file===e});a&&(this.disabledCropper=!0,axios.delete("/file-manager/file",{data:{file:a.file,folder:a.folder}}).then(function(e){t.disabledCropper=!1,a.cropped=1;var i=!0;if(t.filesCropper.forEach(function(t,e){0===t.cropped&&(i=!1)}),i){t.$emit("cropper-finished",e.data);var o=t.path;t.fetchStorageData(o),t.showCropper=!1,t.filesCropper=[],t.cropperActiveIndex=1}t.cropperNext()}).catch(function(e){t.disabledCropper=!1,ajaxError(e)}))}},computed:{pasteMenuClass:function(){return{disabled:0===this.pasteCutItemsMenu.length&&0===this.pasteCopiedItemsMenu.length}},itemEnableMenuClass:function(){return{disabled:!this.selectedItems.length}}}}},"FZ+f":function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var a=function(t,e){var a=t[1]||"",i=t[3];if(!i)return a;if(e&&"function"==typeof btoa){var o=(s=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),n=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[a].concat(n).concat([o]).join("\n")}var s;return[a].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+a+"}":a}).join("")},e.i=function(t,a){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},o=0;o<this.length;o++){var n=this[o][0];"number"==typeof n&&(i[n]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&i[s[0]]||(a&&!s[2]?s[2]=a:a&&(s[2]="("+s[2]+") and ("+a+")"),e.push(s))}},e}},G8VL:function(t,e,a){var i=a("VU/8")(a("CA+I"),a("o/CB"),!1,function(t){a("p1aS")},null,null);t.exports=i.exports},Gs7j:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".box-body{min-height:150px}.disabled{opacity:.65;pointer-events:none}.btn-group-actions{display:inline-block;vertical-align:middle}.info-box .info-box-content{padding:5px 20px 5px 10px}.info-box .box-tools{position:absolute;right:15px;top:0}.box .box-teal{border-top-color:#39cccc}.box .box-purple{border-top-color:#605ca8}.box .box-red{border-top-color:#f56954}.box .box-yellow{border-top-color:#f39c12}.box .box-aqua{border-top-color:#00c0ef}.box .box-green{border-top-color:#00a65a}.box[data-type=image] .box-body{padding:0}.box[data-type=image] .box-body img{width:100%}.box .box-title{white-space:nowrap;overflow:hidden;display:block;text-overflow:ellipsis;margin-right:15px}#files{display:none}#right-click-menu{background:#fff;border-radius:3px;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.1);border:1px solid #d2d6de;display:block;list-style:none;margin:0;padding:0;position:absolute;width:250px;z-index:999999;outline:none}#right-click-menu li{border-bottom:1px solid #f4f4f4;margin:0;padding:5px 10px;cursor:default}#right-click-menu li i{margin-right:5px}#right-click-menu li:last-child{border-bottom:none}#right-click-menu li:hover{background:#d2d6de}#cropper{display:block;overflow-y:auto}#cropper .modal-dialog{width:90%;max-width:1600px;margin-bottom:50px;margin:10px auto}#cropper .modal-dialog .modal-header h4.modal-title{display:inline-block;white-space:nowrap}#cropper .modal-body{height:630px;overflow:hidden;padding:0}#cropper .modal-body .cropper-name{margin-right:15px;margin-left:15px}#cropper .modal-body .cropper-img{height:560px;margin-top:10px}#cropper .modal-body .cropper-img img{max-width:100%}#cropper .cropper-round .cropper-face,#cropper .cropper-round .cropper-view-box{border-radius:50%}",""])},MTIv:function(t,e,a){var i,o,n={},s=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=i.apply(this,arguments)),o}),r=function(t){var e={};return function(t){return void 0===e[t]&&(e[t]=function(t){return document.querySelector(t)}.call(this,t)),e[t]}}(),c=null,l=0,p=[],h=a("mJPh");function d(t,e){for(var a=0;a<t.length;a++){var i=t[a],o=n[i.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](i.parts[s]);for(;s<i.parts.length;s++)o.parts.push(v(i.parts[s],e))}else{var r=[];for(s=0;s<i.parts.length;s++)r.push(v(i.parts[s],e));n[i.id]={id:i.id,refs:1,parts:r}}}}function u(t,e){for(var a=[],i={},o=0;o<t.length;o++){var n=t[o],s=e.base?n[0]+e.base:n[0],r={css:n[1],media:n[2],sourceMap:n[3]};i[s]?i[s].parts.push(r):a.push(i[s]={id:s,parts:[r]})}return a}function m(t,e){var a=r(t.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=p[p.length-1];if("top"===t.insertAt)i?i.nextSibling?a.insertBefore(e,i.nextSibling):a.appendChild(e):a.insertBefore(e,a.firstChild),p.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(e)}}function A(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=p.indexOf(t);e>=0&&p.splice(e,1)}function f(t){var e=document.createElement("style");return t.attrs.type="text/css",g(e,t.attrs),m(t,e),e}function g(t,e){Object.keys(e).forEach(function(a){t.setAttribute(a,e[a])})}function v(t,e){var a,i,o,n;if(e.transform&&t.css){if(!(n=e.transform(t.css)))return function(){};t.css=n}if(e.singleton){var s=l++;a=c||(c=f(e)),i=x.bind(null,a,s,!1),o=x.bind(null,a,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=function(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",g(e,t.attrs),m(t,e),e}(e),i=function(t,e,a){var i=a.css,o=a.sourceMap,n=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||n)&&(i=h(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),r=t.href;t.href=URL.createObjectURL(s),r&&URL.revokeObjectURL(r)}.bind(null,a,e),o=function(){A(a),a.href&&URL.revokeObjectURL(a.href)}):(a=f(e),i=function(t,e){var a=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}.bind(null,a),o=function(){A(a)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var a=u(t,e);return d(a,e),function(t){for(var i=[],o=0;o<a.length;o++){var s=a[o];(r=n[s.id]).refs--,i.push(r)}t&&d(u(t,e),e);for(o=0;o<i.length;o++){var r;if(0===(r=i[o]).refs){for(var c=0;c<r.parts.length;c++)r.parts[c]();delete n[r.id]}}}};var b,w=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function x(t,e,a,i){var o=a?"":i.css;if(t.styleSheet)t.styleSheet.cssText=w(e,o);else{var n=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(n,s[e]):t.appendChild(n)}}},Mb6R:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".file-manager-modal{height:680px;overflow:auto}.cursor-pointer{cursor:pointer}",""])},Mgz0:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("dp5D"),o=a.n(i);new window.Vue({el:"#app",components:{employee:o.a},mounted:function(){var t=this;this.$on("employee-submit",this.updateEmployee),this.$on("update",this.updateData),this.$on("block",this.block),this.$on("unBlock",this.unBlock),this.$on("change-password",this.changePassword),window.axios.get("json").then(function(e){t.employee=e.data,t.employee.middleName=e.data.middle_name,t.employee.fileId=e.data.avatarFileId,t.employee.fileSrc=e.data.avatarUrl,t.employee.smtpEmails=e.data.smtp_emails}).catch(function(t){window.ajaxError(t)})},data:{pageName:"Редактирование сотрудника",employee:{id:"",surname:"",name:"",middleName:"",email:"",phone:"",position:"",signature:"",fileId:"",fileSrc:"",roles:[],trashed:!1,smtpEmails:[]}},methods:{updateEmployee:function(){this.employee&&this.employee.id&&window.axios.put("/settings/employee/"+this.employee.id,this.employee).then(function(t){window.ajaxSuccess(t.data.message)}).catch(function(t){window.ajaxError(t)})},updateData:function(t){t.field&&(this.employee[t.field]=t.value)},block:function(){var t=this;window.modal({modalTitle:"Подтверждение действия",modalMessage:"Вы уверены что хотите заблокировать сотрудника <strong>"+this.employee.surname+" "+this.employee.name+'</strong>?<div class="alert alert-warning"><p><i class="icon fa fa-warning"></i> Сотрудник не сможет авторизоваться в системе</p></div>',onOk:function(e){e.modal("hide"),window.Pace.restart(),window.axios.post("block").then(function(e){t.employee.trashed=!0}).catch(function(t){console.log("error",t),window.ajaxError(t)})}})},unBlock:function(){var t=this;window.Pace.restart(),window.axios.post("unBlock").then(function(e){t.employee.trashed=!1}).catch(function(t){window.ajaxError(t)})},changePassword:function(){this.employee.id&&window.modal({modalTitle:"Изменение пароля для сотрудника <strong>"+this.employee.surname+" "+this.employee.name+"</strong>",modalMessage:'\n                    <form autocomplete="off">\n                    <div class="form-group has-feedback">\n                    <input type="password" class="form-control" placeholder="Пароль" name="password" autocomplete="off">\n                    <span class="glyphicon glyphicon-lock form-control-feedback"></span>\n                    </div>\n                    <div class="form-group has-feedback">\n                    <input type="password" class="form-control" placeholder="Повторите пароль" name="password_confirmation" autocomplete="off">\n                    <span class="glyphicon glyphicon-log-in form-control-feedback"></span>\n                    </div>\n                    </form>\n                    ',onOk:function(t){var e=t.find('input[name="password"]').val(),a=t.find('input[name="password_confirmation"]').val();e?e===a?(window.Pace.restart(),window.axios.post("change-password",{password:e,passwordConfirm:a}).then(function(){t.modal("hide")}).catch(function(t){window.ajaxError(t)})):alert("Введенные пароли не совпадают"):alert("Необходимо ввести пароль")}})}}})},UPKo:function(t,e,a){var i=a("1HXm");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("af41664a",i,!0,{})},"VU/8":function(t,e){t.exports=function(t,e,a,i,o,n){var s,r=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(s=t,r=t.default);var l,p="function"==typeof r?r.options:r;if(e&&(p.render=e.render,p.staticRenderFns=e.staticRenderFns,p._compiled=!0),a&&(p.functional=!0),o&&(p._scopeId=o),n?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(n)},p._ssrRegister=l):i&&(l=i),l){var h=p.functional,d=h?p.render:p.beforeCreate;h?(p._injectStyles=l,p.render=function(t,e){return l.call(e),d(t,e)}):p.beforeCreate=d?[].concat(d,l):[l]}return{esModule:s,exports:r,options:p}}},befu:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,'/*!\n * Cropper.js v1.4.3\n * https://fengyuanchen.github.io/cropperjs\n *\n * Copyright 2015-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2018-10-24T13:07:11.429Z\n */.cropper-container{direction:ltr;font-size:0;line-height:0;position:relative;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.cropper-container img{display:block;height:100%;image-orientation:0deg;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;width:100%}.cropper-canvas,.cropper-crop-box,.cropper-drag-box,.cropper-modal,.cropper-wrap-box{bottom:0;left:0;position:absolute;right:0;top:0}.cropper-canvas,.cropper-wrap-box{overflow:hidden}.cropper-drag-box{background-color:#fff;opacity:0}.cropper-modal{background-color:#000;opacity:.5}.cropper-view-box{display:block;height:100%;outline-color:rgba(51,153,255,.75);outline:1px solid #39f;overflow:hidden;width:100%}.cropper-dashed{border:0 dashed #eee;display:block;opacity:.5;position:absolute}.cropper-dashed.dashed-h{border-bottom-width:1px;border-top-width:1px;height:33.33333%;left:0;top:33.33333%;width:100%}.cropper-dashed.dashed-v{border-left-width:1px;border-right-width:1px;height:100%;left:33.33333%;top:0;width:33.33333%}.cropper-center{display:block;height:0;left:50%;opacity:.75;position:absolute;top:50%;width:0}.cropper-center:after,.cropper-center:before{background-color:#eee;content:" ";display:block;position:absolute}.cropper-center:before{height:1px;left:-3px;top:0;width:7px}.cropper-center:after{height:7px;left:0;top:-3px;width:1px}.cropper-face,.cropper-line,.cropper-point{display:block;height:100%;opacity:.1;position:absolute;width:100%}.cropper-face{background-color:#fff;left:0;top:0}.cropper-line{background-color:#39f}.cropper-line.line-e{cursor:ew-resize;right:-3px;top:0;width:5px}.cropper-line.line-n{cursor:ns-resize;height:5px;left:0;top:-3px}.cropper-line.line-w{cursor:ew-resize;left:-3px;top:0;width:5px}.cropper-line.line-s{bottom:-3px;cursor:ns-resize;height:5px;left:0}.cropper-point{background-color:#39f;height:5px;opacity:.75;width:5px}.cropper-point.point-e{cursor:ew-resize;margin-top:-3px;right:-3px;top:50%}.cropper-point.point-n{cursor:ns-resize;left:50%;margin-left:-3px;top:-3px}.cropper-point.point-w{cursor:ew-resize;left:-3px;margin-top:-3px;top:50%}.cropper-point.point-s{bottom:-3px;cursor:s-resize;left:50%;margin-left:-3px}.cropper-point.point-ne{cursor:nesw-resize;right:-3px;top:-3px}.cropper-point.point-nw{cursor:nwse-resize;left:-3px;top:-3px}.cropper-point.point-sw{bottom:-3px;cursor:nesw-resize;left:-3px}.cropper-point.point-se{bottom:-3px;cursor:nwse-resize;height:20px;opacity:1;right:-3px;width:20px}@media (min-width:768px){.cropper-point.point-se{height:15px;width:15px}}@media (min-width:992px){.cropper-point.point-se{height:10px;width:10px}}@media (min-width:1200px){.cropper-point.point-se{height:5px;opacity:.75;width:5px}}.cropper-point.point-se:before{background-color:#39f;bottom:-50%;content:" ";display:block;height:200%;opacity:0;position:absolute;right:-50%;width:200%}.cropper-invisible{opacity:0}.cropper-bg{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-hide{display:block;height:0;position:absolute;width:0}.cropper-hidden{display:none!important}.cropper-move{cursor:move}.cropper-crop{cursor:crosshair}.cropper-disabled .cropper-drag-box,.cropper-disabled .cropper-face,.cropper-disabled .cropper-line,.cropper-disabled .cropper-point{cursor:not-allowed}',""])},dp5D:function(t,e,a){var i=a("VU/8")(a("gzRm"),a("hbZQ"),!1,function(t){a("UPKo"),a("1RK2")},null,null);t.exports=i.exports},gNeF:function(t,e,a){var i=a("VU/8")(a("AgHG"),a("p14i"),!1,null,null,null);t.exports=i.exports},gzRm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("G8VL"),o=a.n(i),n=a("gNeF"),s=a.n(n);e.default={components:{"file-manager":o.a,"employee-smtp":s.a},props:{pageName:{default:""},id:{default:0},surname:{default:""},name:{default:""},middleName:{default:""},email:{default:""},phone:{default:""},position:{default:""},signature:{default:""},fileId:{default:0},fileSrc:{default:"/storage/resource/no-avatar.png"},roles:{},trashed:!1,smtpEmails:{}},data:function(){return{employeeFileSrc:this.fileSrc,errors:{name:!1,email:!1,surname:!1},showModalFileManager:!1}},watch:{fileSrc:function(){this.employeeFileSrc=this.fileSrc}},computed:{showBlockButton:function(){return window.laravel.user.id!==this.id&&!(!this.roles||-1!==this.roles.indexOf("user"))}},created:function(){var t=document.createElement("script");t.setAttribute("src","/plugins/dadata/jquery.suggestions.min.js"),document.head.appendChild(t)},mounted:function(){var t=this;this.$refs.fileManager.$on("dblclick-image",function(e){t.employeeFileSrc=e.src,t.update("fileSrc",e.src),t.update("fileId",e.id),t.closeModal()}),this.$refs.fileManager.$on("cropper-finished",function(e){t.employeeFileSrc=e.fileSrc,t.update("fileSrc",e.fileSrc),t.update("fileId",e.fileId)}),setTimeout(function(){t.dadata()},500)},methods:{checkForm:function(){this.surname||(this.errors.surname=!0),this.name||(this.errors.name=!0),this.email||(this.errors.email=!0),this.name&&this.surname&&this.email&&this.$parent.$emit("employee-submit")},removeError:function(t){this.errors[t]&&(this.errors[t]=!1)},changeFile:function(){this.showModalFileManager=!0;var t=this.$refs.fileManager.path;/Сотрудники/.test(t)||(t+="/Сотрудники"),this.$refs.fileManager.show(t)},update:function(t,e){this.$parent.$emit("update",{field:t,value:e}),this.removeError(t)},dadata:function(){var t=this,e={},a=$("#surname"),i=$("#name"),o=$("#middleName");e.$surname=a,e.$name=i,e.$patronymic=o;var n=["SURNAME","NAME","PATRONYMIC"];try{$.each([a,i,o],function(a,i){i.suggestions({token:window.laravel.dadata.apiKey,type:"NAME",triggerSelectOnSpace:!1,hint:"",noCache:!0,params:{parts:[n[a]]},onSearchStart:function(a){var i=$(this);a.gender=t.isGenderKnown(e,i)?e.gender:"UNKNOWN"},onSelect:function(a){e.gender=a.data.gender,t.update($(this).attr("id"),a.value)}})})}catch(t){console.error(t)}},isGenderKnown:function(t,e){var a=t,i=a.$surname.val(),o=a.$name.val(),n=a.$patronymic.val();return!(e.attr("id")==a.$surname.attr("id")&&!o&&!n||e.attr("id")==a.$name.attr("id")&&!i&&!n||e.attr("id")==a.$patronymic.attr("id")&&!i&&!o)},closeModal:function(){this.showModalFileManager=!1},modalEmail:function(){this.$refs.employeeStmp.showModal()}}}},hbZQ:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box box-primary",attrs:{id:"employee"}},[a("div",{staticClass:"box-header with-border"},[a("h3",{staticClass:"box-title"},[t._v(t._s(t.pageName)+" "),t.trashed?a("small",{staticClass:"badge pull-right bg-orange"},[t._v("Заблокирован")]):t._e()])]),t._v(" "),a("form",{attrs:{role:"form"},on:{submit:function(e){return e.preventDefault(),t.checkForm(e)}}},[a("div",{staticClass:"box-body"},[a("div",{staticClass:"col-md-10"},[a("div",{staticClass:"form-group",class:[t.errors.surname?"has-error":""]},[a("label",{attrs:{for:"name"}},[t._v("Фамилия")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",id:"surname",placeholder:"Фамилия",autocomplete:"off",disabled:t.trashed},domProps:{value:t.surname},on:{input:function(e){t.update("surname",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group",class:[t.errors.name?"has-error":""]},[a("label",{attrs:{for:"name"}},[t._v("Имя")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",id:"name",placeholder:"Имя",autocomplete:"off",disabled:t.trashed},domProps:{value:t.name},on:{input:function(e){t.update("name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group",class:[t.errors.middleName?"has-error":""]},[a("label",{attrs:{for:"name"}},[t._v("Отчество")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",id:"middleName",placeholder:"Отчество",autocomplete:"off",disabled:t.trashed},domProps:{value:t.middleName},on:{input:function(e){t.update("middleName",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group",class:[t.errors.email?"has-error":""]},[a("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"email",id:"email",placeholder:"Email сотрудника",autocomplete:"off",disabled:t.trashed},domProps:{value:t.email},on:{input:function(e){t.update("email",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"phone"}},[t._v("Телефон")]),t._v(" "),a("div",{staticClass:"input-group"},[t._m(0),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",id:"phone",placeholder:"Телефон сотрудника",autocomplete:"off",disabled:t.trashed},domProps:{value:t.phone},on:{input:function(e){t.update("phone",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"position"}},[t._v("Должность")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{type:"text",id:"position",placeholder:"Должность сотрудника",autocomplete:"off",disabled:t.trashed},domProps:{value:t.position},on:{input:function(e){t.update("position",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"signature"}},[t._v("Подпись в коммерческом предложении")]),t._v(" "),a("textarea",{staticClass:"form-control",attrs:{id:"signature",placeholder:"Подпись...",rows:"6",disabled:t.trashed},domProps:{value:t.signature},on:{input:function(e){t.update("signature",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-md-2"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Фото сотрудника")]),t._v(" "),a("img",{class:[t.trashed?"disabled":""],style:{border:"1px solid #d2d6de",width:"100%"},attrs:{id:"avatar",src:t.employeeFileSrc},on:{click:t.changeFile}})])])]),t._v(" "),a("div",{staticClass:"box-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit",disabled:t.trashed}},[t._v("Сохранить")]),t._v(" "),a("div",{staticClass:"pull-right"},[t.id?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:t.trashed},on:{click:t.modalEmail}},[a("i",{staticClass:"fa fa-envelope"}),t._v(" Привязать почту\n          "),t.smtpEmails.length?a("span",{staticClass:"badge bg-blue"},[t._v(t._s(t.smtpEmails.length))]):t._e()]):t._e(),t._v(" "),t.id?a("button",{staticClass:"btn btn-default",attrs:{type:"button",disabled:t.trashed},on:{click:function(e){t.$parent.$emit("change-password")}}},[t._v("Изменить пароль")]):t._e(),t._v(" "),t.showBlockButton?a("button",{staticClass:"btn",class:[t.trashed?"btn-success":"btn-warning"],attrs:{type:"button"},on:{click:function(e){t.$parent.$emit(t.trashed?"unBlock":"block")}}},[t._v(t._s(t.trashed?"Разблокировать":"Заблокировать"))]):t._e()])])]),t._v(" "),a("div",{staticClass:"modal fade modal-default in file-select",class:{show:t.showModalFileManager}},[a("div",{staticClass:"modal-dialog",style:{width:"90%"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("span",{staticClass:"pull-right close-modal cursor-pointer",on:{click:t.closeModal}},[a("i",{staticClass:"fa fa-close"})]),t._v(" "),a("h4",{staticClass:"modal-title"},[t._v("Выбор фотографии сотрудника")])]),t._v(" "),a("div",{staticClass:"modal-body file-manager-modal"},[a("file-manager",{ref:"fileManager"})],1)])])]),t._v(" "),a("employee-smtp",{ref:"employeeStmp",attrs:{"smtp-emails":t.smtpEmails,"user-id":t.id}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-addon"},[e("i",{staticClass:"fa fa-phone"})])}]}},mJPh:function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var a=e.protocol+"//"+e.host,i=a+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,n=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(n)?t:(o=0===n.indexOf("//")?n:0===n.indexOf("/")?a+n:i+n.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},"o/CB":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"box",class:{disabled:t.disabledApp},on:{click:t.clearSelectedItemBody}},[a("div",{staticClass:"box-header with-border"},[a("div",{staticClass:"btn-group-actions"},[a("button",{staticClass:"btn btn-default",attrs:{type:"button",title:"На уровень выше"},on:{click:function(e){return e.preventDefault(),t.levelUp(e)}}},[a("i",{staticClass:"fa fa-level-up"})]),t._v(" "),t.can("edit file-manager")?[a("button",{staticClass:"btn btn-default",attrs:{type:"button",title:"Создать папку"},on:{click:function(e){return e.preventDefault(),t.createFolder(e)}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" "),a("i",{staticClass:"fa fa-folder"})]),t._v(" "),a("button",{staticClass:"btn btn-default",attrs:{type:"button",title:"Добавить изоборажение(я)"},on:{click:function(e){return e.preventDefault(),t.openFileUploader(e)}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" "),a("i",{staticClass:"fa fa-image"})]),t._v(" "),t.filesCropper.length?a("button",{staticClass:"btn btn-default",attrs:{type:"button",title:"Файлы которые необходимо обработь через редактор"},on:{click:t.showCropEditor}},[a("i",{staticClass:"fa fa-image"}),t._v("\n              Запустить редактор: "),a("b",[t._v(t._s(t.filesCropper.length))])]):t._e(),t._v(" "),a("form",[a("input",{attrs:{type:"file",id:"files",name:"file",accept:"image/*",multiple:""},on:{change:t.uploadFiles}})])]:t._e()],2),t._v(" "),a("div",{staticClass:"pull-right"},[a("ol",{staticClass:"breadcrumb"},[t._l(t.breadcrumb,function(e,i){return a("li",{key:i,class:t.isLastBreadcrumb(i)?"active":""},[0===i?a("i",{staticClass:"fa fa-home"}):t._e(),t._v(" "),t.isLastBreadcrumb(i)?a("span",[t._v(t._s(e.name))]):a("a",{attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.show(e.path)}}},[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.name)+"\n\t\t\t\t\t\t\t")])])})],2)])]),t._v(" "),a("div",{staticClass:"box-body",on:{click:function(e){return e.preventDefault(),t.closeMenu(e)},contextmenu:function(e){return e.preventDefault(),t.openMenu(e)}}},[[a("div",{staticClass:"row"},t._l(t.files,function(e,i){return"folder"===e.type?a("div",{key:i,staticClass:"col-lg-3 col-md-4 col-sm-6 col-xs-12"},[a("div",{staticClass:"info-box",class:[t.isSelectedItem(i)?t.selectedItemClass:""],attrs:{"data-type":"folder"},on:{contextmenu:function(a){t.setSelectedItem(i,a,e)},dblclick:function(a){a.preventDefault(),t.show(e.path)},click:function(a){a.preventDefault(),t.setSelectedItem(i,a,e,!0)}}},[a("span",{staticClass:"info-box-icon",class:t.folderClassObject(e.name)},[a("i",{staticClass:"fa fa-folder"})]),t._v(" "),a("div",{staticClass:"info-box-content"},[a("span",{staticClass:"info-box-text"},[t._v(t._s(e.name))]),t._v(" "),a("span",{staticClass:"info-box-number"},[t._v(t._s(e.countFiles))])])])]):t._e()})),t._v(" "),a("div",{staticClass:"row"},t._l(t.files,function(e,i){return"image"===e.type?a("div",{key:i,staticClass:"col-lg-2 col-md-4 col-sm-6 col-xs-12"},[a("div",{staticClass:"box box-success",class:[t.imageClassObject(e.folder),t.isSelectedItem(i)?t.selectedItemClass:""],attrs:{"data-type":"image"},on:{contextmenu:function(a){t.setSelectedItem(i,a,e)},click:[function(a){a.preventDefault(),t.setSelectedItem(i,a,e,!0)},function(a){if(!a.ctrlKey)return null;a.preventDefault(),t.setSelectedItem(i,a,e)}],dblclick:function(a){a.preventDefault(),t.dblClickImage(e)}}},[a("div",{staticClass:"box-header"},[a("h3",{staticClass:"box-title"},[t._v(t._s(e.name))])]),t._v(" "),a("div",{staticClass:"box-body"},[a("img",{attrs:{src:e.src}})])])]):t._e()}))],t._v(" "),t.can("edit file-manager")?[a("ul",{directives:[{name:"show",rawName:"v-show",value:t.viewMenu,expression:"viewMenu"}],ref:"right",style:{top:t.top,left:t.left},attrs:{id:"right-click-menu",tabindex:"-1"},on:{blur:t.closeMenu}},[t.showMenuItem()?a("li",{class:t.itemEnableMenuClass,on:{click:function(e){return e.preventDefault(),t.cutItemMenu(e)}}},[a("i",{staticClass:"fa fa-cut"}),t._v(" Вырезать\n\t\t\t\t\t")]):t._e(),t._v(" "),t.showMenuItem()?a("li",{class:t.itemEnableMenuClass,on:{click:function(e){return e.preventDefault(),t.copyItemMenu(e)}}},[a("i",{staticClass:"fa fa-copy"}),t._v(" Скопировать\n\t\t\t\t\t")]):t._e(),t._v(" "),t.showMenuItem()?a("li",{class:t.pasteMenuClass,on:{click:function(e){return e.preventDefault(),t.pasteItemMenu(e)}}},[a("i",{staticClass:"fa fa-paste"}),t._v(" "),a("span",[t._v("Вставить")]),t._v(" "),t.countItemsInBufferMenu()?a("span",{staticClass:"label label-primary"},[t._v(t._s(t.countItemsInBufferMenu()))]):t._e()]):t._e(),t._v(" "),1===t.selectedItems.length?a("li",{class:t.itemEnableMenuClass,on:{click:function(e){return e.preventDefault(),t.renameItemMenu(e)}}},[a("i",{staticClass:"fa fa-pencil"}),t._v(" Переименовать\n\t\t\t\t\t")]):t._e(),t._v(" "),a("li",{class:t.itemEnableMenuClass,on:{click:function(e){return e.preventDefault(),t.deleteItemMenu(e)}}},[a("i",{staticClass:"fa fa-trash"}),t._v(" Удалить\n\t\t\t\t\t")])])]:t._e()],2)]),t._v(" "),t.showCropper?[a("div",{staticClass:"modal fade modal-default in",attrs:{id:"cropper"}},[a("div",{staticClass:"modal-dialog",class:{disabled:t.disabledCropper}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-12"},[a("h4",{staticClass:"modal-title cropper-img-counter"},[t._v("Редактор\n                    "),a("span",[t._v(t._s(t.cropperActiveIndex))]),t._v("/"+t._s(t.filesCropper.length)+"\n                  ")])]),t._v(" "),a("div",{staticClass:"col-xs-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-4 col-lg-7"},[a("div",{staticClass:"btn-group hidden-lg"},[t._m(0),t._v(" "),a("ul",{staticClass:"dropdown-menu",attrs:{role:"menu"}},[a("li",[a("a",{staticClass:"cropper-template",class:{active:1===t.cropperTemplate},attrs:{href:"#","data-template":"1"},on:{click:function(e){t.changeCropperTemplate(1)}}},[t._v("Логотип")])]),t._v(" "),a("li",[a("a",{staticClass:"cropper-template",class:{active:2===t.cropperTemplate},attrs:{href:"#","data-template":"2"},on:{click:function(e){t.changeCropperTemplate(2)}}},[t._v("Обложка")])]),t._v(" "),a("li",[a("a",{staticClass:"cropper-template",class:{active:3===t.cropperTemplate},attrs:{href:"#","data-template":"3"},on:{click:function(e){t.changeCropperTemplate(3)}}},[t._v("Фото Товара")])]),t._v(" "),a("li",[a("a",{staticClass:"cropper-template",class:{active:4===t.cropperTemplate},attrs:{href:"#","data-template":"4"},on:{click:function(e){t.changeCropperTemplate(4)}}},[t._v("Фото Сотрудника")])]),t._v(" "),a("li",[a("a",{staticClass:"cropper-template",class:{active:5===t.cropperTemplate},attrs:{href:"#","data-template":"5"},on:{click:function(e){t.changeCropperTemplate(5)}}},[t._v("Фото Галереи")])]),t._v(" "),a("li",[a("a",{staticClass:"cropper-template",class:{active:6===t.cropperTemplate},attrs:{href:"#","data-template":"6"},on:{click:function(e){t.changeCropperTemplate(6)}}},[t._v("Без изменений")])])])]),t._v(" "),a("div",{staticClass:"btn-group hidden-xs hidden-sm hidden-md"},[a("button",{staticClass:"btn btn-default btn-sm cropper-template",class:{active:1===t.cropperTemplate},attrs:{"data-template":"1"},on:{click:function(e){t.changeCropperTemplate(1)}}},[t._v("Логотип\n                        ")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-sm cropper-template",class:{active:2===t.cropperTemplate},attrs:{"data-template":"2"},on:{click:function(e){t.changeCropperTemplate(2)}}},[t._v("Обложка\n                        ")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-sm cropper-template",class:{active:3===t.cropperTemplate},attrs:{"data-template":"3"},on:{click:function(e){t.changeCropperTemplate(3)}}},[t._v("Фото Товара\n                        ")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-sm cropper-template",class:{active:4===t.cropperTemplate},attrs:{"data-template":"4"},on:{click:function(e){t.changeCropperTemplate(4)}}},[t._v("Фото Сотрудника\n                        ")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-sm cropper-template",class:{active:5===t.cropperTemplate},attrs:{"data-template":"5"},on:{click:function(e){t.changeCropperTemplate(5)}}},[t._v("Фото Галереи\n                        ")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-sm cropper-template",class:{active:6===t.cropperTemplate},attrs:{"data-template":"6"},on:{click:function(e){t.changeCropperTemplate(6)}}},[t._v("Без изменений\n                        ")])])]),t._v(" "),a("div",{staticClass:"col-xs-4 col-lg-3"},[a("div",{staticClass:"btn-group-vertical hidden-sm hidden-md hidden-lg"},[a("button",{staticClass:"btn btn-default btn-sm",class:{active:!t.uploadingPath},attrs:{title:"Загрузка файла в папку согласно формату обрезки"},on:{click:function(e){t.changeUploadPath(0)}}},[t._v("По умолчанию")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-sm",class:{active:t.uploadingPath},attrs:{title:"Загрузка файла в текущую папку"},on:{click:function(e){t.changeUploadPath(1)}}},[t._v("В папку ("+t._s(t.breadcrumb[t.breadcrumb.length-1].name)+")")])]),t._v(" "),a("div",{staticClass:"btn-group hidden-xs"},[a("button",{staticClass:"btn btn-default btn-sm",class:{active:!t.uploadingPath},attrs:{title:"Загрузка файла в папку согласно формату обрезки"},on:{click:function(e){t.changeUploadPath(0)}}},[t._v("По умолчанию")]),t._v(" "),a("button",{staticClass:"btn btn-default btn-sm",class:{active:t.uploadingPath},attrs:{title:"Загрузка файла в текущую папку"},on:{click:function(e){t.changeUploadPath(1)}}},[t._v("В папку ("+t._s(t.breadcrumb[t.breadcrumb.length-1].name)+")")])])]),t._v(" "),a("div",{staticClass:"col-xs-4 col-lg-2"},[a("div",{staticClass:"pull-right"},[a("button",{staticClass:"btn btn-default btn-sm col-xs-12 col-lg-6",attrs:{type:"button","data-toggle":"tooltip",title:"При отмене файл будет удален"},on:{click:t.cancelCrop}},[t._v("Отменить")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-sm col-xs-12 col-lg-6",attrs:{type:"button"},on:{click:t.cropperCrop}},[t._v("Сохранить")])])])])])])]),t._v(" "),a("div",{staticClass:"modal-body"},t._l(t.filesCropper,function(e,i){return a("div",{key:i,staticClass:"cropper-container-img",class:{active:t.cropperActiveIndex===i+1,"cropper-round":4===t.cropperTemplate},attrs:{"data-index":i+1,"data-template":"0"}},[a("div",{staticClass:"cropper-name"},[a("label",{attrs:{for:"cropper-name-"+(i+1)}},[t._v("Введите название изображения")]),t._v(" "),a("input",{staticClass:"form-control",attrs:{id:"cropper-name-"+(i+1),type:"text"},domProps:{value:e.name}})]),t._v(" "),a("div",{staticClass:"cropper-img"},[a("img",{staticClass:"crop",attrs:{src:e.src,"data-file":e.file}})])])}))])])])]:t._e()],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"btn btn-default btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[this._v("Обрезка "),e("i",{staticClass:"fa fa-caret-down"})])}]}},p14i:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal fade",attrs:{id:"popup-email"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),a("div",{staticClass:"modal-body"},[t.smtpEmails.length?a("div",[a("table",{staticClass:"table table-hover table-striped"},[t._m(1),t._v(" "),a("tbody",t._l(t.smtpEmails,function(e,i){return a("tr",{key:i},[a("td",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-8 col-sm-9"},[t._v(t._s(e.smtp_login))]),t._v(" "),a("div",{staticClass:"col-xs-3 col-sm-3"},[a("div",{staticClass:"pull-right"},[a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(a){t.editSmtp(e)}}},[a("i",{staticClass:"fa fa-pencil"})]),t._v(" "),a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(a){t.removeSmtp(e.id)}}},[a("i",{staticClass:"fa fa-trash"})])])])])])])}))])]):t._e(),t._v(" "),a("p",[a("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(e){t.toggleSmtp()}}},[a("i",{staticClass:"fa fa-envelope"}),t._v(" "+t._s(t.smtp.showForm?"Скрыть":"Добавить почту")+"\n              ")])]),t._v(" "),a("div",{staticClass:"collapse",attrs:{id:"collapse"}},[a("div",{staticClass:"well",class:{disabled:t.smtp.ajax}},[a("div",{staticClass:"form-group",class:{"has-error":t.smtp.errors.login}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.smtp.data.login,expression:"smtp.data.login"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ваш email адрес"},domProps:{value:t.smtp.data.login},on:{keyup:function(e){t.smtp.errors.login=!1},input:function(e){e.target.composing||t.$set(t.smtp.data,"login",e.target.value)}}}),t._v(" "),t.smtp.errors.login?a("span",{staticClass:"help-block"},[t._v("Поле обязательно для заполнения и должно быть действительным email")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group",class:{"has-error":t.smtp.errors.password}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.smtp.data.password,expression:"smtp.data.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Пароль от почты"},domProps:{value:t.smtp.data.password},on:{keyup:function(e){t.smtp.errors.password=!1},input:function(e){e.target.composing||t.$set(t.smtp.data,"password",e.target.value)}}}),t._v(" "),t.smtp.errors.password?a("span",{staticClass:"help-block"},[t._v("Поле обязательно для заполнения")]):t._e()]),t._v(" "),a("div",{staticClass:"form-group",class:{"has-error":t.smtp.errors.server}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.smtp.data.server,expression:"smtp.data.server"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Адрес smtp сервера"},domProps:{value:t.smtp.data.server},on:{keyup:function(e){t.smtp.errors.server=!1},input:function(e){e.target.composing||t.$set(t.smtp.data,"server",e.target.value)}}}),t._v(" "),t.smtp.errors.server?a("span",{staticClass:"help-block"},[t._v("Поле обязательно для заполнения")]):t._e()]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-10 col-xs-9"},[a("div",{staticClass:"form-group",class:{"has-error":t.smtp.errors.port}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.smtp.data.port,expression:"smtp.data.port"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Порт smtp сервера"},domProps:{value:t.smtp.data.port},on:{keyup:function(e){t.smtp.errors.port=!1},input:function(e){e.target.composing||t.$set(t.smtp.data,"port",e.target.value)}}}),t._v(" "),t.smtp.errors.port?a("span",{staticClass:"help-block"},[t._v("Поле обязательно для заполнения")]):t._e()])]),t._v(" "),a("div",{staticClass:"col-md-2 col-xs-3"},[a("div",[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.smtp.data.secure,expression:"smtp.data.secure"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.smtp.data.secure)?t._i(t.smtp.data.secure,null)>-1:t.smtp.data.secure},on:{change:function(e){var a=t.smtp.data.secure,i=e.target,o=!!i.checked;if(Array.isArray(a)){var n=t._i(a,null);i.checked?n<0&&t.$set(t.smtp.data,"secure",a.concat([null])):n>-1&&t.$set(t.smtp.data,"secure",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.smtp.data,"secure",o)}}}),t._v("\n                                TLS/SSL\n                            ")])])])]),t._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.addSmtp}},[t._v("Сохранить")])])])]),t._v(" "),t._m(2)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])]),this._v(" "),e("h4",{staticClass:"modal-title"},[this._v("Подключите вашу почту к КП10")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Email")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-default pull-left",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Отмена")])])}]}},p1aS:function(t,e,a){var i=a("Gs7j");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("99bb1534",i,!0,{})},rjj0:function(t,e,a){var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o=a("tTVk"),n={},s=i&&(document.head||document.getElementsByTagName("head")[0]),r=null,c=0,l=!1,p=function(){},h=null,d="data-vue-ssr-id",u="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(t){for(var e=0;e<t.length;e++){var a=t[e],i=n[a.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](a.parts[o]);for(;o<a.parts.length;o++)i.parts.push(f(a.parts[o]));i.parts.length>a.parts.length&&(i.parts.length=a.parts.length)}else{var s=[];for(o=0;o<a.parts.length;o++)s.push(f(a.parts[o]));n[a.id]={id:a.id,refs:1,parts:s}}}}function A(){var t=document.createElement("style");return t.type="text/css",s.appendChild(t),t}function f(t){var e,a,i=document.querySelector("style["+d+'~="'+t.id+'"]');if(i){if(l)return p;i.parentNode.removeChild(i)}if(u){var o=c++;i=r||(r=A()),e=b.bind(null,i,o,!1),a=b.bind(null,i,o,!0)}else i=A(),e=function(t,e){var a=e.css,i=e.media,o=e.sourceMap;i&&t.setAttribute("media",i);h.ssrId&&t.setAttribute(d,e.id);o&&(a+="\n/*# sourceURL="+o.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");if(t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}.bind(null,i),a=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else a()}}t.exports=function(t,e,a,i){l=a,h=i||{};var s=o(t,e);return m(s),function(e){for(var a=[],i=0;i<s.length;i++){var r=s[i];(c=n[r.id]).refs--,a.push(c)}e?m(s=o(t,e)):s=[];for(i=0;i<a.length;i++){var c;if(0===(c=a[i]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete n[c.id]}}}};var g,v=(g=[],function(t,e){return g[t]=e,g.filter(Boolean).join("\n")});function b(t,e,a,i){var o=a?"":i.css;if(t.styleSheet)t.styleSheet.cssText=v(e,o);else{var n=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(n,s[e]):t.appendChild(n)}}},tTVk:function(t,e){t.exports=function(t,e){for(var a=[],i={},o=0;o<e.length;o++){var n=e[o],s=n[0],r={id:t+":"+o,css:n[1],media:n[2],sourceMap:n[3]};i[s]?i[s].parts.push(r):a.push(i[s]={id:s,parts:[r]})}return a}}});